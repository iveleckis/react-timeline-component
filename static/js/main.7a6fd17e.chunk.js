(this["webpackJsonpreact-timeline-component"]=this["webpackJsonpreact-timeline-component"]||[]).push([[0],{10:function(e,t,r){},12:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),a=r(5),i=r.n(a),l=(r(10),[{short_name_letters:"Jan.",numerical_expression:"01",days:31},{short_name_letters:"Feb.",numerical_expression:"02",days:28},{short_name_letters:"Mar.",numerical_expression:"03",days:31},{short_name_letters:"Apr.",numerical_expression:"04",days:30},{short_name_letters:"May",numerical_expression:"05",days:31},{short_name_letters:"Jun.",numerical_expression:"06",days:30},{short_name_letters:"Jul.",numerical_expression:"07",days:31},{short_name_letters:"Aug.",numerical_expression:"08",days:31},{short_name_letters:"Sep.",numerical_expression:"09",days:30},{short_name_letters:"Oct.",numerical_expression:"10",days:31},{short_name_letters:"Nov.",numerical_expression:"11",days:30},{short_name_letters:"Dec.",numerical_expression:"12",days:31}]),o=["bg-red-100 border-red-700","bg-red-200 border-red-700","bg-red-300 border-red-700","bg-blue-100 border-blue-700","bg-blue-200 border-blue-700","bg-blue-300 border-blue-700","bg-blue-400 border-blue-700","bg-green-100 border-green-700","bg-green-200 border-green-700","bg-green-300 border-green-700","bg-green-400 border-green-700","bg-yellow-100 border-yellow-700","bg-yellow-200 border-yellow-700","bg-yellow-300 border-yellow-700","bg-yellow-400 border-yellow-700","bg-pink-100 border-pink-700","bg-pink-200 border-pink-700","bg-pink-300 border-pink-700","bg-pink-400 border-pink-700","bg-gray-100 border-gray-700","bg-gray-200 border-gray-700","bg-gray-300 border-gray-700","bg-gray-400 border-gray-700","bg-indigo-100 border-indigo-700","bg-indigo-200 border-indigo-700","bg-indigo-300 border-indigo-700","bg-indigo-400 border-indigo-700","bg-purple-100 border-purple-700","bg-purple-200 border-purple-700","bg-purple-300 border-purple-700","bg-purple-400 border-purple-700"],c=[{start_date:"2021.02.02",end_date:"2021.02.17",title:"Super good test",group:"Running tests",details:"This test will improve our performance",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2021.01.30",end_date:"2021.02.25",title:"Longer test",group:"Running tests",details:"This test will improve our performance",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2021.02.20",end_date:"2021.03.05",title:"Good test",group:"Running tests",details:"This test will improve our performance",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2021.03.01",end_date:"2021.03.12",title:"Another good test",group:"Running tests",details:"This test will improve our performance",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2021.01.20",end_date:"2021.03.05",title:"That was a good test",group:"Finished tests",details:"This test will improve our performance",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2021.01.11",end_date:"2021.02.26",title:"Hard test",group:"Finished tests",details:"This test will improve our performance",styling:o[Math.floor(Math.random()*o.length)]}],d=r(2),u=r(0),b=function(e){var t=e.parts_to_split_into,r=function(){for(var e=[],r=0;r<t;r++)12!==t?e.push(Object(u.jsx)("div",{style:{zIndex:"-10"},className:"w-full h-full border-r border-l border-gray-100"},r)):function(){var t=r<9?"0".concat(r+1):"".concat(r+1),n=(l.find((function(e){return e.numerical_expression===t})).days/365*100).toFixed(3);e.push(Object(u.jsx)("div",{style:{zIndex:"-10",width:"".concat(n,"%")},className:"h-full border-r border-l border-gray-200"},r))}();return e};return Object(u.jsx)("div",{className:"w-full h-full flex",children:Object(u.jsx)(r,{})})},p=r(4),g=function(e){var t=e.track_length_by_index,r=e.track_start_by_index,s=e.title,a=e.track_styling,i=e.details,l=e.date,o=Object(n.useState)(!1),c=Object(d.a)(o,2),b=c[0],p=c[1];return Object(u.jsxs)("div",{className:"relative z-50 select-none",children:[Object(u.jsx)("div",{className:"flex justify-center items-center font-bold text-gray-800 my-2 rounded border-2 ".concat(a),style:{width:"".concat(t,"%"),marginLeft:"".concat(r,"%")},onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},children:Object(u.jsx)("div",{className:"overflow-hidden truncate",children:s})}),Object(u.jsx)("div",{style:{width:"".concat(t,"%"),marginLeft:"".concat(r,"%"),bottom:"120%"},className:"absolute flex justify-center",children:b&&Object(u.jsxs)("div",{className:"bg-gray-500 text-white border border-gray-400 rounded-sm p-2 px-8 shadow",children:[Object(u.jsxs)("div",{className:"flex-col",children:[Object(u.jsx)("div",{className:"whitespace-nowrap",children:s}),Object(u.jsx)("div",{className:"whitespace-nowrap",children:l}),Object(u.jsx)("div",{className:"whitespace-nowrap",children:i})]}),Object(u.jsx)("div",{className:"absolute",style:{width:0,height:0,borderLeft:"20px solid transparent",borderRight:"20px solid transparent",borderTop:"20px solid rgb(107, 114, 128)",left:"50%",marginLeft:"-20px"}})]})})]})},f=function(e){var t=e.list_of_group_items,r=e.global_year,s=e.global_month,a=e.children,i=Object(n.useState)(),o=Object(d.a)(i,2),c=o[0],b=o[1],f=function(e,t,r){var n={start:"not_set",end:"not_set"},s=e.start_date,a=e.end_date;if(r){var i="".concat(t,".").concat(r),l=e.start_date.split("").splice(0,7).join(""),o=e.end_date.split("").splice(0,7).join("");if(l<i&&(n.start=0),o>i&&(n.end=1),o===i){var c=_(i,a);n.end=c}if(l===i){var d=_(i,s);n.start=d}}else{var u=String(t),b=e.start_date.split("").splice(0,4).join(""),p=e.end_date.split("").splice(0,4).join("");if(b<u&&(n.start=0),p>u&&(n.end=1),p===u){var g=m(u,a);n.end=g}if(b===u){var f=m(u,s);n.start=f}}return n},m=function(e,t){var r=new Date(e),n=new Date(t),s=Math.ceil((n-r)/864e5);return Number((s/365).toFixed(2))},_=function(e,t){var r=new Date(e),n=new Date(t),s=Math.ceil((n-r)/864e5),a=e.split("").splice(5,2).join(""),i=l.find((function(e){return e.numerical_expression===a})).days;return Number((s/i).toFixed(2))};return Object(n.useEffect)((function(){!function(e,t,r){var n=[];for(var s in e){var a=f(e[s],t,r),i=Object(p.a)(Object(p.a)({},e[s]),{},{start_index:a.start,end_index:a.end});n.push(i)}b(n)}(t,r,s)}),[t,r,s]),Object(u.jsx)(u.Fragment,{children:c&&Object(u.jsxs)("div",{className:"flex w-full",children:[Object(u.jsx)("div",{className:"flex items-center justify-center w-40 flex-shrink-0 bg-white shadow-r uppercase font-bold text-gray-600",children:c[0]&&c[0].group}),Object(u.jsxs)("div",{className:"w-full relative",children:[c.map((function(e,t){var r=100*e.start_index,n=(100*(e.end_index-e.start_index)).toFixed(0);return Object(u.jsx)(g,{track_length_by_index:n,track_start_by_index:r,title:e.title,track_styling:e.styling?e.styling:"",details:e.details,date:"".concat(e.start_date," - ").concat(e.end_date)},t)})),Object(u.jsx)("div",{className:"absolute top-0 left-0 w-full h-full",children:a})]})]})})},m=function(e){var t=e.all_groups,r=e.global_year,s=e.global_month,a=Object(n.useState)([]),i=Object(d.a)(a,2),o=i[0],c=i[1],p=function(e,t,r){return r?e.filter((function(e){var n=e.start_date.split("").splice(0,7).join(""),s=e.end_date.split("").splice(0,7).join(""),a="".concat(t,".").concat(r);return s===a||n===a||n<a&&s>a})):e.filter((function(e){var r=Number(e.start_date.split("").splice(0,4).join("")),n=Number(e.end_date.split("").splice(0,4).join(""));return n===t||r===t||r<t&&n>t}))};return Object(n.useEffect)((function(){!function(e,t,r){var n=[];for(var s in e){var a=p(e[s],t,r);n.push(a)}c(n)}(t,r,s)}),[t,s,r]),Object(u.jsx)("div",{className:"relative",children:o&&o.map((function(e,t){return Object(u.jsx)("div",{className:"".concat(0!==t&&"border-t border-gray-400"),children:Object(u.jsx)(f,{list_of_group_items:e,global_year:r,global_month:s,children:Object(u.jsx)(b,{parts_to_split_into:(n=s,n?l.find((function(e){return e.numerical_expression===n})).days:12)})})},t);var n}))})},_=function(e){var t=e.global_year,r=e.new_global_year,s=e.global_month,a=e.new_global_month,i=e.possible_years,o=Object(n.useState)(!1),c=Object(d.a)(o,2),b=c[0],p=c[1],g=function(){if(s){for(var e=[],t=l.find((function(e){return e.numerical_expression===s})),r=1;r<=t.days;r++)e.push(Object(u.jsx)("div",{className:"w-full text-xs p-1 flex justify-center items-center",children:r},r));return e}};return Object(u.jsx)("div",{className:"flex select-none shadow-md z-50 min-w-max",children:Object(u.jsxs)("div",{className:"relative flex w-full border-b border-gray-400",children:[Object(u.jsxs)("div",{onClick:function(){return p(!b)},className:"w-40 flex-shrink-0 transition duration-100 border-gray-200 flex justify-center items-center font-bold cursor-pointer select-none hover:bg-gray-100",children:[t,b&&Object(u.jsxs)("div",{className:"absolute divide-y left-0 top-10 z-50 bg-white border shadow w-40",children:[i.map((function(e){return Object(u.jsx)("div",{onClick:function(){p(!1),r(e)},className:"flex justify-center items-center p-2 hover:bg-gray-50 cursor-pointer w-full",children:e},e)})),Object(u.jsx)("div",{className:"w-full"})]})]}),Object(u.jsxs)("div",{className:"w-full",children:[Object(u.jsx)("div",{className:"flex border-r w-full",children:l.map((function(e){return Object(u.jsx)("div",{className:"w-full transition duration-100 flex justify-center items-center cursor-pointer p-2 border-gray-400 hover:bg-gray-100 ".concat(s===e.numerical_expression&&"hover:bg-none border-l font-bold"," ").concat("12"!==e.numerical_expression&&s===e.numerical_expression&&"border-r"," ").concat(s&&s!==e.numerical_expression&&"border-b"),onClick:function(){s===e.numerical_expression?a(null):a(e.numerical_expression)},children:e.short_name_letters},e.numerical_expression)}))}),Object(u.jsx)("div",{className:"flex border-l border-gray-400",children:s&&Object(u.jsx)(g,{})})]})]})})},h=function(e){var t=e.timeline_data,r=Object(n.useState)((new Date).getFullYear()),s=Object(d.a)(r,2),a=s[0],i=s[1],l=Object(n.useState)(null),o=Object(d.a)(l,2),c=o[0],b=o[1],p=Object(n.useState)([]),g=Object(d.a)(p,2),f=g[0],h=g[1],j=Object(n.useState)([]),x=Object(d.a)(j,2),v=x[0],y=x[1],O=function(e){var t=[];for(var r in e)t.includes(e[r].group)||t.push(e[r].group);return t},w=function(e,t){var r=[];for(var n in t)e===t[n].group&&r.push(t[n]);return r};return Object(n.useEffect)((function(){var e=function(e){var t=[];for(var r in e){var n=Number(e[r].start_date.split("").splice(0,4).join("")),s=Number(e[r].end_date.split("").splice(0,4).join(""));t.includes(n)||t.push(n),t.includes(s)||t.push(s)}return t.sort((function(e,t){return e<t?1:-1})),t}(t);h(e);var r=function(e){var t=O(e),r=[];for(var n in t){var s=w(t[n],e);r.push(s)}return r}(t);y(r)}),[t]),Object(u.jsxs)("div",{className:"text-gray-700 border-gray-400 border overflow-x-auto",children:[Object(u.jsx)(_,{global_year:a,global_month:c,new_global_year:function(e){return i(e)},new_global_month:function(e){return b(e)},possible_years:f}),Object(u.jsx)(m,{all_groups:v,global_year:a,global_month:c})]})};var j=function(){return Object(u.jsxs)("div",{className:"h-full flex justify-center items-center flex-col",children:[Object(u.jsx)("h1",{className:"text-3xl font-bold pb-8 text-gray-700",children:"Timeline Demo"}),Object(u.jsx)("div",{className:"p-2 w-full max-w-4xl",children:Object(u.jsx)(h,{timeline_data:c})})]})},x=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,13)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;r(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(j,{})}),document.getElementById("root")),x()}},[[12,1,2]]]);
//# sourceMappingURL=main.7a6fd17e.chunk.js.map