(this["webpackJsonpreact-timeline-component"]=this["webpackJsonpreact-timeline-component"]||[]).push([[0],{10:function(e,t,r){},12:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),i=r(5),s=r.n(i),l=(r(10),[{short_name_letters:"Jan.",numerical_expression:"01",days:31},{short_name_letters:"Feb.",numerical_expression:"02",days:28},{short_name_letters:"Mar.",numerical_expression:"03",days:31},{short_name_letters:"Apr.",numerical_expression:"04",days:30},{short_name_letters:"May",numerical_expression:"05",days:31},{short_name_letters:"Jun.",numerical_expression:"06",days:30},{short_name_letters:"Jul.",numerical_expression:"07",days:31},{short_name_letters:"Aug.",numerical_expression:"08",days:31},{short_name_letters:"Sep.",numerical_expression:"09",days:30},{short_name_letters:"Oct.",numerical_expression:"10",days:31},{short_name_letters:"Nov.",numerical_expression:"11",days:30},{short_name_letters:"Dec.",numerical_expression:"12",days:31}]),o=["bg-red-100 border-red-700","bg-red-200 border-red-700","bg-red-300 border-red-700","bg-blue-100 border-blue-700","bg-blue-200 border-blue-700","bg-blue-300 border-blue-700","bg-blue-400 border-blue-700","bg-green-100 border-green-700","bg-green-200 border-green-700","bg-green-300 border-green-700","bg-green-400 border-green-700","bg-yellow-100 border-yellow-700","bg-yellow-200 border-yellow-700","bg-yellow-300 border-yellow-700","bg-yellow-400 border-yellow-700","bg-pink-100 border-pink-700","bg-pink-200 border-pink-700","bg-pink-300 border-pink-700","bg-pink-400 border-pink-700","bg-gray-100 border-gray-700","bg-gray-200 border-gray-700","bg-gray-300 border-gray-700","bg-gray-400 border-gray-700","bg-indigo-100 border-indigo-700","bg-indigo-200 border-indigo-700","bg-indigo-300 border-indigo-700","bg-indigo-400 border-indigo-700","bg-purple-100 border-purple-700","bg-purple-200 border-purple-700","bg-purple-300 border-purple-700","bg-purple-400 border-purple-700"],c=[{start_date:"2021.03.11",end_date:"2021.09.17",title:"a",group:"group a",details:"aaa",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2020.03.11",end_date:"2021.02.17",title:"b",group:"group a",details:"bbb",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2021.06.11",end_date:"2022.01.17",title:"c",group:"group a",details:"ccc",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2021.02.11",end_date:"2021.03.17",title:"a",group:"group b",details:"aaa",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2021.03.11",end_date:"2021.07.17",title:"b",group:"group b",details:"bbb",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2021.02.11",end_date:"2022.03.17",title:"c",group:"group b",details:"ccc",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2020.02.11",end_date:"2020.08.17",title:"a",group:"group c",details:"aaa",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2020.08.11",end_date:"2022.01.17",title:"b",group:"group c",details:"bbb",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2020.10.11",end_date:"2021.04.17",title:"c",group:"group c",details:"ccc",styling:o[Math.floor(Math.random()*o.length)]},{start_date:"2020.01.11",end_date:"2022.12.17",title:"c",group:"group c",details:"ccc",styling:o[Math.floor(Math.random()*o.length)]}],d=r(2),u=r(0),b=function(e){var t=e.parts_to_split_into,r=function(){for(var e=[],r=0;r<t;r++)12!==t?e.push(Object(u.jsx)("div",{style:{zIndex:"-10"},className:"w-full h-full border-r border-l border-gray-100"},r)):function(){var t=r<9?"0".concat(r+1):"".concat(r+1),n=(l.find((function(e){return e.numerical_expression===t})).days/365*100).toFixed(3);e.push(Object(u.jsx)("div",{style:{zIndex:"-10",width:"".concat(n,"%")},className:"h-full border-r border-l border-gray-200"},r))}();return e};return Object(u.jsx)("div",{className:"w-full h-full flex",children:Object(u.jsx)(r,{})})},g=r(4),f=function(e){var t=e.track_length_by_index,r=e.track_start_by_index,a=e.title,i=e.track_styling,s=e.details,l=e.date,o=Object(n.useState)(!1),c=Object(d.a)(o,2),b=c[0],g=c[1];return Object(u.jsx)("div",{className:"relative z-50 select-none",children:Object(u.jsx)("div",{style:{width:"".concat(b?100:t,"%"),marginLeft:"".concat(b?0:r,"%"),height:"auto"},onClick:function(){return g(!b)},className:"flex justify-center cursor-pointer overflow-x-hidden transition-all duration-500 items-center font-bold text-gray-800 my-2 rounded border-2 ".concat(i),children:b?Object(u.jsxs)("div",{className:"flex-col text-sm text-center",children:[Object(u.jsx)("div",{className:"whitespace-nowrap",children:a}),Object(u.jsx)("div",{className:"whitespace-nowrap",children:l}),Object(u.jsx)("div",{className:"whitespace-nowrap",children:s})]}):Object(u.jsx)("div",{className:"overflow-hidden truncate",children:a})})})},p=function(e){var t=e.list_of_group_items,r=e.global_year,a=e.global_month,i=e.children,s=Object(n.useState)(),o=Object(d.a)(s,2),c=o[0],b=o[1],p=function(e,t,r){var n={start:"not_set",end:"not_set"},a=e.start_date,i=e.end_date;if(r){var s="".concat(t,".").concat(r),l=e.start_date.split("").splice(0,7).join(""),o=e.end_date.split("").splice(0,7).join("");if(l<s&&(n.start=0),o>s&&(n.end=1),o===s){var c=h(s,i);n.end=c}if(l===s){var d=h(s,a);n.start=d}}else{var u=String(t),b=e.start_date.split("").splice(0,4).join(""),g=e.end_date.split("").splice(0,4).join("");if(b<u&&(n.start=0),g>u&&(n.end=1),g===u){var f=_(u,i);n.end=f}if(b===u){var p=_(u,a);n.start=p}}return n},_=function(e,t){var r=new Date(e),n=new Date(t),a=Math.ceil((n-r)/864e5);return Number((a/365).toFixed(2))},h=function(e,t){var r=new Date(e),n=new Date(t),a=Math.ceil((n-r)/864e5),i=e.split("").splice(5,2).join(""),s=l.find((function(e){return e.numerical_expression===i})).days;return Number((a/s).toFixed(2))};return Object(n.useEffect)((function(){!function(e,t,r){var n=[];for(var a in e){var i=p(e[a],t,r),s=Object(g.a)(Object(g.a)({},e[a]),{},{start_index:i.start,end_index:i.end});n.push(s)}b(n)}(t,r,a)}),[t,r,a]),Object(u.jsx)(u.Fragment,{children:c&&Object(u.jsxs)("div",{className:"flex w-full",children:[Object(u.jsx)("div",{className:"flex items-center justify-center w-40 flex-shrink-0 bg-white shadow-r uppercase font-bold text-gray-600",children:c[0]&&c[0].group}),Object(u.jsxs)("div",{className:"w-full relative",children:[c.map((function(e,t){var r=100*e.start_index,n=(100*(e.end_index-e.start_index)).toFixed(0);return Object(u.jsx)(f,{track_length_by_index:n,track_start_by_index:r,title:e.title,track_styling:e.styling?e.styling:"",details:e.details,date:"".concat(e.start_date," - ").concat(e.end_date)},t)})),Object(u.jsx)("div",{className:"absolute z-30 top-0 left-0 w-full h-full",children:i})]})]})})},_=function(){return window.innerWidth},h=function(e){var t=e.all_groups,r=e.global_year,a=e.global_month,i=Object(n.useState)([]),s=Object(d.a)(i,2),o=s[0],c=s[1],g=Object(n.useState)(_()),f=Object(d.a)(g,2),h=f[0],j=f[1],m=Object(n.useState)(),x=Object(d.a)(m,2),y=x[0],v=x[1],O=function(e,t,r){return r?e.filter((function(e){var n=e.start_date.split("").splice(0,7).join(""),a=e.end_date.split("").splice(0,7).join(""),i="".concat(t,".").concat(r);return a===i||n===i||n<i&&a>i})):e.filter((function(e){var r=Number(e.start_date.split("").splice(0,4).join("")),n=Number(e.end_date.split("").splice(0,4).join(""));return n===t||r===t||r<t&&n>t}))};return Object(n.useEffect)((function(){!function(e,t,r){var n=[];for(var a in e){var i=O(e[a],t,r);n.push(i)}c(n)}(t,r,a)}),[t,a,r]),Object(n.useEffect)((function(){if(a){var e=(t=l.find((function(e){return e.numerical_expression===a})).days,"calc(100% + ".concat((31===t?769:30===t?748:723)-h,"px)"));v(h>719?"100%":e)}else v(h>719?"100%":"702px");var t}),[a,h]),Object(n.useEffect)((function(){function e(){j(_())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(u.jsx)("div",{className:"relative divide-y divide-gray-400",style:{width:"".concat(y)},children:o&&o.map((function(e,t){return 0!==e.length&&Object(u.jsx)("div",{className:"",children:Object(u.jsx)(p,{list_of_group_items:e,global_year:r,global_month:a,children:Object(u.jsx)(b,{parts_to_split_into:(n=a,n?l.find((function(e){return e.numerical_expression===n})).days:12)})})},t);var n}))})},j=function(e){var t=e.global_year,r=e.new_global_year,a=e.global_month,i=e.new_global_month,s=e.possible_years,o=Object(n.useState)(!1),c=Object(d.a)(o,2),b=c[0],g=c[1],f=function(){if(a){for(var e=[],t=l.find((function(e){return e.numerical_expression===a})),r=1;r<=t.days;r++)e.push(Object(u.jsx)("div",{className:"w-full text-xs p-1 flex justify-center items-center",children:r},r));return e}};return Object(u.jsx)("div",{className:"flex select-none shadow-md z-50 min-w-max bg-white",children:Object(u.jsxs)("div",{className:"relative flex w-full border-b border-gray-400",children:[Object(u.jsxs)("div",{onClick:function(){return g(!b)},className:"w-40 flex-shrink-0 transition duration-100 border-gray-200 flex justify-center items-center font-bold cursor-pointer select-none hover:bg-gray-100",children:[t,b&&Object(u.jsxs)("div",{className:"absolute divide-y left-0 top-10 z-50 bg-white border shadow w-40",children:[s.map((function(e){return Object(u.jsx)("div",{onClick:function(){g(!1),r(e)},className:"flex justify-center items-center p-2 hover:bg-gray-50 cursor-pointer w-full",children:e},e)})),Object(u.jsx)("div",{className:"w-full"})]})]}),Object(u.jsxs)("div",{className:"w-full",children:[Object(u.jsx)("div",{className:"flex border-r w-full",children:l.map((function(e){return Object(u.jsx)("div",{style:{width:"".concat(100*e.days/365,"%")},className:"transition duration-100 flex justify-center items-center cursor-pointer p-2 border-gray-400 hover:bg-gray-100 ".concat(a===e.numerical_expression&&"hover:bg-none border-l font-bold"," ").concat("12"!==e.numerical_expression&&a===e.numerical_expression&&"border-r"," ").concat(a&&a!==e.numerical_expression&&"border-b"),onClick:function(){a===e.numerical_expression?i(null):i(e.numerical_expression)},children:e.short_name_letters},e.numerical_expression)}))}),Object(u.jsx)("div",{className:"flex border-l border-gray-400",children:a&&Object(u.jsx)(f,{})})]})]})})},m=function(e){var t=e.timeline_data,r=Object(n.useState)((new Date).getFullYear()),a=Object(d.a)(r,2),i=a[0],s=a[1],l=Object(n.useState)(null),o=Object(d.a)(l,2),c=o[0],b=o[1],g=Object(n.useState)([]),f=Object(d.a)(g,2),p=f[0],_=f[1],m=Object(n.useState)([]),x=Object(d.a)(m,2),y=x[0],v=x[1],O=function(e){var t=[];for(var r in e)t.includes(e[r].group)||t.push(e[r].group);return t},w=function(e,t){var r=[];for(var n in t)e===t[n].group&&r.push(t[n]);return r};return Object(n.useEffect)((function(){var e=function(e){var t=[];for(var r in e){var n=Number(e[r].start_date.split("").splice(0,4).join("")),a=Number(e[r].end_date.split("").splice(0,4).join(""));t.includes(n)||t.push(n),t.includes(a)||t.push(a)}return t.sort((function(e,t){return e<t?1:-1})),t}(t);_(e);var r=function(e){var t=O(e),r=[];for(var n in t){var a=w(t[n],e);r.push(a)}return r}(t);v(r)}),[t]),Object(u.jsxs)("div",{style:{height:"fit-content"},className:"text-gray-700 border-gray-400 w-full border overflow-x-auto bg-white",children:[Object(u.jsx)(j,{global_year:i,global_month:c,new_global_year:function(e){return s(e)},new_global_month:function(e){return b(e)},possible_years:p}),Object(u.jsx)(h,{all_groups:y,global_year:i,global_month:c})]})};var x=function(){return Object(u.jsx)("div",{className:"flex justify-center items-center h-full w-full",children:Object(u.jsx)("div",{className:"w-3/4",children:Object(u.jsx)(m,{timeline_data:c})})})},y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,13)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),y()}},[[12,1,2]]]);
//# sourceMappingURL=main.81c5920b.chunk.js.map