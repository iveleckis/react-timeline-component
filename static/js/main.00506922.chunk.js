(this["webpackJsonpreact-timeline-component"]=this["webpackJsonpreact-timeline-component"]||[]).push([[0],{10:function(e,t,r){},12:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),i=r(5),o=r.n(i),s=(r(10),[{short_name_letters:"Jan.",numerical_expression:"01",days:31},{short_name_letters:"Feb.",numerical_expression:"02",days:28},{short_name_letters:"Mar.",numerical_expression:"03",days:31},{short_name_letters:"Apr.",numerical_expression:"04",days:30},{short_name_letters:"May",numerical_expression:"05",days:31},{short_name_letters:"Jun.",numerical_expression:"06",days:30},{short_name_letters:"Jul.",numerical_expression:"07",days:31},{short_name_letters:"Aug.",numerical_expression:"08",days:31},{short_name_letters:"Sep.",numerical_expression:"09",days:30},{short_name_letters:"Oct.",numerical_expression:"10",days:31},{short_name_letters:"Nov.",numerical_expression:"11",days:30},{short_name_letters:"Dec.",numerical_expression:"12",days:31}]),l=["bg-red-100 border-red-700","bg-red-200 border-red-700","bg-red-300 border-red-700","bg-blue-100 border-blue-700","bg-blue-200 border-blue-700","bg-blue-300 border-blue-700","bg-blue-400 border-blue-700","bg-green-100 border-green-700","bg-green-200 border-green-700","bg-green-300 border-green-700","bg-green-400 border-green-700","bg-yellow-100 border-yellow-700","bg-yellow-200 border-yellow-700","bg-yellow-300 border-yellow-700","bg-yellow-400 border-yellow-700","bg-pink-100 border-pink-700","bg-pink-200 border-pink-700","bg-pink-300 border-pink-700","bg-pink-400 border-pink-700","bg-gray-100 border-gray-700","bg-gray-200 border-gray-700","bg-gray-300 border-gray-700","bg-gray-400 border-gray-700","bg-indigo-100 border-indigo-700","bg-indigo-200 border-indigo-700","bg-indigo-300 border-indigo-700","bg-indigo-400 border-indigo-700","bg-purple-100 border-purple-700","bg-purple-200 border-purple-700","bg-purple-300 border-purple-700","bg-purple-400 border-purple-700"],c=[{start_date:"2021.03.11",end_date:"2021.09.17",title:"a",group:"group a",details:"aaa",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2020.03.11",end_date:"2021.02.17",title:"b",group:"group a",details:"bbb",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2021.03.02",end_date:"2021.03.26",title:"e",group:"group a",details:"eee",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2021.05.18",end_date:"2021.06.10",title:"z",group:"group a",details:"zzz",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2021.06.11",end_date:"2022.01.17",title:"c",group:"group a",details:"ccc",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2021.02.11",end_date:"2021.03.17",title:"a",group:"group b",details:"aaa",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2021.03.11",end_date:"2021.07.17",title:"b",group:"group b",details:"bbb",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2021.02.11",end_date:"2022.03.17",title:"c",group:"group b",details:"ccc",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2020.02.11",end_date:"2020.08.17",title:"a",group:"group c",details:"aaa",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2020.08.11",end_date:"2022.01.17",title:"b",group:"group c",details:"bbb",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2020.10.11",end_date:"2021.04.17",title:"c",group:"group c",details:"ccc",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2020.01.11",end_date:"2022.12.17",title:"d",group:"group b",details:"ddd",styling:l[Math.floor(Math.random()*l.length)]},{start_date:"2021.01.11",end_date:"2021.01.19",title:"e",group:"group b",details:"eee",styling:l[Math.floor(Math.random()*l.length)]}],d=r(2),u=r(0),b=function(e){var t=e.partsToSplitInto,r=e.globalMonth,n=function(){for(var e=a(),r=[],n=0;n<t;n++)12!==t?r.push(Object(u.jsx)("div",{style:{zIndex:"-10"},className:"w-full h-full border-r border-l border-gray-100 ".concat(e.includes(n)?"bg-gray-100 border-gray-200":"")},n)):function(){var e=n<9?"0".concat(n+1):"".concat(n+1),t=(s.find((function(t){return t.numerical_expression===e})).days/365*100).toFixed(3);r.push(Object(u.jsx)("div",{style:{zIndex:"-10",width:"".concat(t,"%")},className:"h-full border-r border-l border-gray-200"},n))}();return r},a=function(){if(!r)return[];for(var e=s.find((function(e){return e.numerical_expression===r})),t=e.days,n=[],a=0;a<t;a++){new Date("".concat((new Date).getFullYear(),".").concat(e.numerical_expression,".").concat(a+1)).getDay()%6===0&&n.push(a)}return n};return Object(u.jsx)("div",{className:"w-full h-full flex",children:Object(u.jsx)(n,{})})},g=r(4),f=function(e){var t=e.todaysDate,r=void 0===t?new Date:t,a=e.zoomedToMonth,i=Object(n.useState)(),o=Object(d.a)(i,2),s=o[0],l=o[1];return Object(n.useEffect)((function(){var e=new Date(r.getFullYear(),0,1),t=Math.ceil((r-e)/864e5);l(null===a?t/365*100:"")}),[r,a]),Object(u.jsx)(u.Fragment,{children:s&&Object(u.jsx)("div",{style:{marginLeft:"".concat(s,"%")},className:"h-full w-1 absolute top-0 bg-red-600 z-50"})})},p=function(e){var t=e.trackLengthByIndex,r=e.trackStartByIndex,a=e.title,i=e.trackStyling,o=e.details,s=e.date,l=Object(n.useState)(!1),c=Object(d.a)(l,2),b=c[0],g=c[1];return Object(u.jsx)("div",{className:"relative z-50 select-none",children:Object(u.jsx)("div",{style:{width:"".concat(b?100:t,"%"),marginLeft:"".concat(b?0:r,"%"),height:"auto"},onClick:function(){return g(!b)},className:"flex justify-center cursor-pointer overflow-x-hidden transition-all duration-500 items-center font-bold text-gray-800 my-2 rounded border-2 ".concat(i),children:b?Object(u.jsxs)("div",{className:"flex-col text-sm text-center",children:[Object(u.jsx)("div",{className:"whitespace-nowrap",children:a}),Object(u.jsx)("div",{className:"whitespace-nowrap",children:s}),Object(u.jsx)("div",{className:"whitespace-nowrap",children:o})]}):Object(u.jsx)("div",{className:"overflow-hidden truncate",children:a})})})},h=function(e){var t=e.listOfGroupItems,r=e.globalYear,a=e.globalMonth,i=e.children,o=Object(n.useState)(),l=Object(d.a)(o,2),c=l[0],b=l[1],h=function(e,t,r){var n={start:"not_set",end:"not_set"},i=e.start_date,o=e.end_date;if(r){var l="".concat(t,".").concat(r),c=e.start_date.split("").splice(0,7).join(""),d=e.end_date.split("").splice(0,7).join("");if(c<l&&(n.start=0),d>l&&(n.end=1),d===l){var u=Number(m(l,o));if(a){var b=Number((1/s.find((function(e){return e.numerical_expression===a})).days).toFixed(2));n.end=(u+b).toFixed(2)}else n.end=u}if(c===l){var g=m(l,i);n.start=g}}else{var f=String(t),p=e.start_date.split("").splice(0,4).join(""),h=e.end_date.split("").splice(0,4).join("");if(p<f&&(n.start=0),h>f&&(n.end=1),h===f){var x=j(f,o);n.end=x}if(p===f){var v=j(f,i);n.start=v}}return n},j=function(e,t){var r=new Date(e),n=new Date(t),a=Math.ceil((n-r)/864e5);return Number((a/365).toFixed(2))},m=function(e,t){var r=new Date(e),n=(new Date(t)-r)/864e5,a=e.split("").splice(5,2).join(""),i=s.find((function(e){return e.numerical_expression===a})).days;return Number(n/i).toFixed(2)};return Object(n.useEffect)((function(){!function(e,t,r){var n=[];for(var a in e){var i=h(e[a],t,r),o=Object(g.a)(Object(g.a)({},e[a]),{},{start_index:i.start,end_index:i.end});n.push(o)}b(n)}(t,r,a)}),[t,r,a]),Object(u.jsx)(u.Fragment,{children:c&&Object(u.jsxs)("div",{className:"flex w-full",children:[Object(u.jsx)("div",{className:"flex items-center justify-center text-center w-40 p-2 text-sm border-r border-gray-300 flex-shrink-0 bg-white shadow-r uppercase font-bold text-gray-600",children:c[0]&&c[0].group}),Object(u.jsxs)("div",{className:"w-full relative",children:[Object(u.jsx)(f,{zoomedToMonth:a}),c.map((function(e,t){var r=(100*e.start_index).toFixed(0),n=(100*(e.end_index-e.start_index)).toFixed(0);return Object(u.jsx)(p,{trackLengthByIndex:n,trackStartByIndex:r,title:e.title,trackStyling:e.styling?e.styling:"",details:e.details,date:"".concat(e.start_date," - ").concat(e.end_date)},t)})),Object(u.jsx)("div",{className:"absolute z-30 top-0 left-0 w-full h-full",children:i})]})]})})},j=function(){return window.innerWidth},m=function(e){var t=e.allGroups,r=e.globalYear,a=e.globalMonth,i=Object(n.useState)([]),o=Object(d.a)(i,2),l=o[0],c=o[1],g=Object(n.useState)(j()),f=Object(d.a)(g,2),p=f[0],m=f[1],x=Object(n.useState)(),v=Object(d.a)(x,2),_=v[0],y=v[1],O=function(e,t,r){return r?e.filter((function(e){var n=e.start_date.split("").splice(0,7).join(""),a=e.end_date.split("").splice(0,7).join(""),i="".concat(t,".").concat(r);return a===i||n===i||n<i&&a>i})):e.filter((function(e){var r=Number(e.start_date.split("").splice(0,4).join("")),n=Number(e.end_date.split("").splice(0,4).join(""));return n===t||r===t||r<t&&n>t}))};return Object(n.useEffect)((function(){!function(e,t,r){var n=[];for(var a in e){var i=O(e[a],t,r);n.push(i)}c(n)}(t,r,a)}),[t,a,r]),Object(n.useEffect)((function(){if(a){var e=(t=s.find((function(e){return e.numerical_expression===a})).days,"calc(100% + ".concat((31===t?769:30===t?748:723)-p,"px)"));y(p>719?"100%":e)}else y(p>719?"100%":"702px");var t}),[a,p]),Object(n.useEffect)((function(){function e(){m(j())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(u.jsx)("div",{className:"relative",children:Object(u.jsx)("div",{className:"relative divide-y divide-gray-400",style:{width:"".concat(_)},children:l&&l.map((function(e,t){return 0!==e.length&&Object(u.jsx)("div",{children:Object(u.jsx)(h,{listOfGroupItems:e,globalYear:r,globalMonth:a,children:Object(u.jsx)(b,{partsToSplitInto:(n=a,n?s.find((function(e){return e.numerical_expression===n})).days:12),globalMonth:a})})},t);var n}))})})},x=function(e){var t=e.globalYear,r=e.newGlobalYear,a=e.globalMonth,i=e.newGlobalMonth,o=e.possibleYears,l=Object(n.useState)(!1),c=Object(d.a)(l,2),b=c[0],g=c[1],f=function(){if(a){for(var e=[],t=s.find((function(e){return e.numerical_expression===a})),r=1;r<=t.days;r++)e.push(Object(u.jsx)("div",{className:"w-full text-xs p-1 flex justify-center items-center",children:r},r));return e}};return Object(u.jsx)("div",{className:"flex select-none shadow-md z-50 min-w-max bg-white",children:Object(u.jsxs)("div",{className:"relative flex w-full border-b border-gray-400",children:[Object(u.jsxs)("div",{onClick:function(){return g(!b)},className:"w-40 flex-shrink-0 transition duration-100 border-gray-200 flex justify-center items-center font-bold cursor-pointer select-none hover:bg-gray-100",children:[t,b&&Object(u.jsxs)("div",{className:"absolute divide-y left-0 top-10 z-50 bg-white border shadow w-40",children:[o.map((function(e){return Object(u.jsx)("div",{onClick:function(){g(!1),r(e)},className:"flex justify-center items-center p-2 hover:bg-gray-50 cursor-pointer w-full",children:e},e)})),Object(u.jsx)("div",{className:"w-full"})]})]}),Object(u.jsxs)("div",{className:"w-full",children:[Object(u.jsx)("div",{className:"flex border-r w-full",children:s.map((function(e){return Object(u.jsx)("div",{style:{width:"".concat(100*e.days/365,"%")},className:"transition duration-100 flex justify-center items-center cursor-pointer p-2 border-gray-400 hover:bg-gray-100 ".concat(a===e.numerical_expression&&"hover:bg-none border-l font-bold"," ").concat("12"!==e.numerical_expression&&a===e.numerical_expression&&"border-r"," ").concat(a&&a!==e.numerical_expression&&"border-b"),onClick:function(){a===e.numerical_expression?i(null):i(e.numerical_expression)},children:e.short_name_letters},e.numerical_expression)}))}),Object(u.jsx)("div",{className:"flex border-l border-gray-400",children:a&&Object(u.jsx)(f,{})})]})]})})},v=function(e){var t=e.timelineData,r=Object(n.useState)((new Date).getFullYear()),a=Object(d.a)(r,2),i=a[0],o=a[1],s=Object(n.useState)(null),l=Object(d.a)(s,2),c=l[0],b=l[1],g=Object(n.useState)([]),f=Object(d.a)(g,2),p=f[0],h=f[1],j=Object(n.useState)([]),v=Object(d.a)(j,2),_=v[0],y=v[1],O=function(e){var t=[];for(var r in e)t.includes(e[r].group)||t.push(e[r].group);return t},w=function(e,t){var r=[];for(var n in t)e===t[n].group&&r.push(t[n]);return r};return Object(n.useEffect)((function(){var e=function(e){var t=[];for(var r in e){var n=Number(e[r].start_date.split("").splice(0,4).join("")),a=Number(e[r].end_date.split("").splice(0,4).join(""));t.includes(n)||t.push(n),t.includes(a)||t.push(a)}return t.sort((function(e,t){return e<t?1:-1})),t}(t);h(e);var r=function(e){var t=O(e),r=[];for(var n in t){var a=w(t[n],e);r.push(a)}return r}(t);y(r)}),[t]),Object(u.jsxs)("div",{style:{height:"fit-content"},className:"text-gray-700 border-gray-400 border overflow-x-auto overflow-y-visible bg-white",children:[Object(u.jsx)(x,{globalYear:i,globalMonth:c,newGlobalYear:function(e){return o(e)},newGlobalMonth:function(e){return b(e)},possibleYears:p}),Object(u.jsx)(m,{allGroups:_,globalYear:i,globalMonth:c})]})};var _=function(){return Object(u.jsx)("div",{className:"flex justify-center items-center h-full w-full",children:Object(u.jsx)("div",{className:"w-3/4",children:Object(u.jsx)(v,{timelineData:c})})})},y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,13)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),i(e),o(e)}))};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root")),y()}},[[12,1,2]]]);
//# sourceMappingURL=main.00506922.chunk.js.map